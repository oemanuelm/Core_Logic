#include <DHT.h> // Biblioteca para o sensor DHT

// Definições do sensor DHT
#define DHTPIN 4
#define DHTTYPE DHT22

DHT dht(DHTPIN, DHTTYPE); // Inicializa o sensor DHT junto ao pino definido

// Configuração inicial
void setup()
{
    Serial.begin(115200);
    dht.begin();
}

// Loop principal
void loop()
{
    float temperatura = dht.readTemperature(); // Lê a temperatura
    float umidade = dht.readHumidity(); // Lê a umidade

    if (isnan(temperatura))
    {
        Serial.println("Erro na leitura do sensor");
    }
    else
    {
        Serial.print("Temperatura: ");
        Serial.print(temperatura);
        Serial.println(" °C");

        Serial.print("Umidade: ");
        Serial.print(umidade);
        Serial.println(" %");
    }

    delay(2000); // Aguarda 2 segundos antes da próxima leitura
}


/* Montagem do circuito:
   - Conecte o pino de dados do DHT22 ao pino 4 do ESP32
   - Conecte o VCC do DHT22 ao 3.3V do ESP32
   - Conecte o GND do DHT22 ao GND do ESP32

   observação: Adicione um resistor pull-up de 10k ohms 
   entre o pino de dados e o VCC para melhor estabilidade da leitura se necessário
*/